<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Hello, World</title>
<style type="text/css">
html{height:100%}
body{height:100%;margin:0px;padding:0px}
#container{height:100%}
</style>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=842855b14ec90e16d9bd3dec896b39ff"></script>/

</head>
 
<body>
<div id="container"></div>
<script type="text/javascript">
var map = new BMap.Map("container");          // ´´½¨µØÍ¼ÊµÀı
var point = new BMap.Point(113.9195014,22.5296822);  // ´´½¨µã×ø±ê  116.404, 39.915
map.centerAndZoom(point, 15);                 // ³õÊ¼»¯µØÍ¼£¬ÉèÖÃÖĞĞÄµã×ø±êºÍµØÍ¼¼¶±ğ

// nav
  map.addControl(new BMap.NavigationControl());
map.addControl(new BMap.ScaleControl());  
map.addControl(new BMap.OverviewMapControl());  
map.addControl(new BMap.MapTypeControl());  
//map.setCurrentCity("æ·±åœ³"); // ä»…å½“è®¾ç½®åŸå¸‚ä¿¡æ¯æ—¶ï¼ŒMapTypeControlçš„åˆ‡æ¢åŠŸèƒ½æ‰èƒ½å¯ç”¨
//ä¿¡æ¯çª—å£
	
	var opts = {  
	width: 250,     // ä¿¡æ¯çª—å£å®½åº¦  
	height: 100,     // ä¿¡æ¯çª—å£é«˜åº¦  
	title: "Hello"  // ä¿¡æ¯çª—å£æ ‡é¢˜ 
	}  
	var infoWindow = new BMap.InfoWindow("World", opts);  // åˆ›å»ºä¿¡æ¯çª—å£å¯¹è±¡  
	//map.openInfoWindow(infoWindow, map.getCenter());      // æ‰“å¼€ä¿¡æ¯çª—å£  




function AddPoint(map,longi,lati)
{
	var pt = new BMap.Point(longi,lati);
	var mk = new BMap.Marker(pt);
	
	
	
	map.addOverlay(mk);
	
	mk.setTitle("123456 : ddd");
	
	var label = new BMap.Label("æˆ‘æ˜¯æ–‡å­—æ ‡æ³¨å“¦",{offset:new BMap.Size(20,-10)});
	mk.setLabel(label);
	
	mk.addEventListener("click", function()
	{  
		alert("æ‚¨ç‚¹å‡»äº†æ ‡æ³¨");  
		alert(this.getTitle());
		map.removeOverlay(this);
	});  

}
	// æ ‡æ³¨
AddPoint(map,114.083989,22.537275);
AddPoint(map,113.9195014,22.529682);

	// ç”»çº¿
	function DrawLine(map,x1,y1,x2,y2)
	{
		var polyline = new BMap.Polyline([  
		   new BMap.Point(x1,y1), 
		   new BMap.Point(x2,y2)  
		 ],  
		 {strokeColor:"blue", strokeWeight:6, strokeOpacity:0.5}  
		);  
		map.addOverlay(polyline);  
		
		
		polyline.addEventListener("click", function(e)
		{  
			alert("æ‚¨ç‚¹å‡»äº†çº¿æ®µ");  
					//map.removeOverlay(this);
					var opts = {  
			width: 250,     // ä¿¡æ¯çª—å£å®½åº¦  
			height: 100,     // ä¿¡æ¯çª—å£é«˜åº¦  
			title: "Hello"  // ä¿¡æ¯çª—å£æ ‡é¢˜ 
			}  
			var infoWindow = new BMap.InfoWindow("<table border=1><tr><td>a</td><td>b</td></tr><tr><td>a</td><td>b</td></tr><tr><td>a</td><td>b</td></tr></table>", opts);  // åˆ›å»ºä¿¡æ¯çª—å£å¯¹è±¡ 
			map.openInfoWindow(infoWindow,e.point);
		});  
	}
	
	DrawLine(map,114.083989,22.537275,113.9195014,22.529682);



</script>
</body>



</html>